<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.4.3/css/bulma.min.css">
    <script src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.4.1/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vuefire/1.4.3/vuefire.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-router/2.7.0/vue-router.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <script src="db/firebase.js"></script>
    <script src="js/components/main.js"></script>
    <script src="js/components/login.js"></script>
    <script src="js/components/bonds.js"></script>
    <title>Check in bounds</title>
  </head>
  <body>
    <template id="viewLogin">
      <div class="section">
        <div class="columns">
          <div class="column"></div>
          <div class="column">
            <h1 class="title has-text-centered">Sign in</h1>
            <div class="field">
              <div class="control has-icons-left has-icons-right">
                <input class="input is-medium" type="email" placeholder="email" v-model="user.email"><span class="icon is-left"><i class="fa fa-envelope"></i></span>
              </div>
            </div>
            <div class="field">
              <div class="control has-icons-left has-icons-right">
                <input class="input is-medium" type="password" placeholder="password" v-model="user.password"><span class="icon is-left"><i class="fa fa-lock"></i></span>
              </div>
            </div>
            <div class="notification" v-if="message">
              <button class="delete" @click="message=''"></button><span>{{message}}</span>
            </div>
            <div class="has-text-centered" id="signIn"><a class="button is-primary" @click="signIn">Sign In</a></div>
          </div>
          <div class="column"></div>
        </div>
      </div>
    </template>
    <template id="indexBonds">
      <div class="section">
        <div class="block">
          <h3 class="title is-pulled-left">訂單列表</h3>
          <router-link class="button is-primary" :to="{ name: 'new-bond' }"><i class="fa fa-plus"></i></router-link>
          <router-link class="button is-pulled-right" to="/logout">登出</router-link>
        </div>
        <div>
          <table class="table">
            <thead>
              <tr>
                <th>姓名</th>
                <th>資訊</th>
                <th>email</th>
                <th>電話</th>
                <th>匯款號碼</th>
                <th>匯款時間</th>
                <th>確認匯款</th>
                <th>報到</th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="bond in bonds">
                <td>
                  <router-link :to="{ name: 'view-bond', params: { id: bond['.key'] }}">{{bond.name}}</router-link>
                </td>
                <td>{{bond.info}}</td>
                <td>{{bond.email}}</td>
                <td>{{bond.phone}}</td>
                <td>{{bond.code}}</td>
                <td>{{bond.commitTime}}</td>
                <td>{{bond.phone}}</td>
                <td><i class="check" v-if="bond.checked"></i></td>
                <td><i class="check" v-if="bond.checkIn"></i></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </template>
    <template id="addBond">
      <div>
        <div>
          <h3>Add New Bond</h3>
        </div>
        <div>
          <form v-on:submit.prevent="addBond">
            <div>
              <label for="bondName">Name:</label>
              <input id="bondName" type="text" v-model="newBond.name">
            </div>
            <div>
              <label for="bondEmail">Email:</label>
              <input id="bondEmail" type="text" v-model="newBond.email">
            </div>
            <div>
              <label for="bondInfo">Info:</label>
              <input id="bondInfo" type="text" v-model="newBond.info">
            </div>
            <input type="submit" value="Add Bond">
          </form>
        </div>
      </div>
    </template>
    <template id="viewBook">
      <div>
        <h3>View Bond</h3>
      </div>
      <div>
        <table>
          <tbody>
            <tr v-for="(value, key) in bond">
              <td v-text="key"></td>
              <td v-text="value"></td>
            </tr>
          </tbody>
        </table>
      </div>
    </template>
    <template id="editBook">
      <div>
        <h3>Edit Bond</h3>
      </div>
      <div>
        <table>
          <tbody>
            <tr v-for="(value, key) in bond">
              <td v-text="key"></td>
              <td v-text="value"></td>
            </tr>
          </tbody>
        </table>
      </div>
    </template>
    <div id="app">
      <div class="container">
        <router-view></router-view>
      </div>
    </div>
    <template id="viewMain">
      <div class="section">
        <h1 class="title has-text-centered">Hello!</h1>
        <div class="title has-text-centered">
          <router-link class="button" v-if="auth.currentUser" to="/bonds">看訂單</router-link>
          <router-link class="button" v-else to="/login">登入</router-link>
        </div>
      </div>
    </template>
    <script src="js/router.js"></script>
    <script src="js/index.js"></script>
  </body>
</html>